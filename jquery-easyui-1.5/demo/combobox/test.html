<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>easyui-combobox test</title>
    <link type="text/css" href="../../themes/default/easyui.css" rel="stylesheet"/>
    <link type="text/css" href="../../themes/icon.css" rel="stylesheet"/>
    <style>
        .textbox{
            height:20px;
            margin:0;
            padding:0 2px;
            box-sizing: content-box;
        }
    </style>
</head>
<body>
<!--html 调用方式-->
<!--
<select class="easyui-combobox" style="width:120px;">
    <option value="a">a</option>
    <option value="b">b</option>
    <option value="c">c</option>
    <option value="d">d</option>
</select>
-->
<input id="box" name="box"/>
<input type="button" value="取消选择" onclick="unSelect();"/>
<input type="button" value="选择多个选项" onclick="setValues();"/>
<input type="button" value="选择单个选项" onclick="setValue();"/>
<input type="button" value="刷新" onclick="reload();"/>
<input type="button" value="获取请求数据" onclick="getData();"/>
<input type="button" value="加载本地数据" onclick="loadData();"/>


</body>
<script type="text/javascript" src="../../jquery.min.js"></script>
<script type="text/javascript" src="../../jquery.easyui.min.js"></script>
<script type="text/javascript">
$(function() {
    var boxObj=$('#box');
    var baseUrl= 'http://study.gxqcad.com/jquery-easyui-1.5/demo/combobox/';
    boxObj.combobox({
        valueField:'id',
        textField:'productname',
//        textField:'text',
        url:baseUrl+'select.php',
        groupField:'status',
        groupFormatter:function(group){
            return '['+group+']';
        },
        formatter:function(row){
            var opts=$(this).combobox('options');
            return '['+row[opts.textField]+']';
        },
//        mode:'remote',
//        filter:function(q, row){
//            var opts=$(this).combobox('options');
//            return row[opts.textField].indexOf(q) >= 0;
//
//        },
        onSelect:function(rowData){
            console.log('选择时触发：',rowData);
        },
        onUnselect:function(rowData){
            console.log('取消时触发：',rowData);
        },

        /*
        data:[{
            "id":1,
            "text":"Java",
            "desc":"Write once, run anywhere"
        },{
            "id":2,
            "text":"C#",
            "desc":"One of the programming languages designed for the Common Language Infrastructure"
        },{
            "id":3,
            "text":"Ruby",
            "selected":true,
            "desc":"A dynamic, reflective, general-purpose object-oriented programming language"
        },{
            "id":4,
            "text":"Perl",
            "desc":"A high-level, general-purpose, interpreted, dynamic programming language"
        },{
            "id":5,
            "text":"Basic",
            "desc":"A family of general-purpose, high-level programming languages"
        }],
        */
    });
});
    function unSelect(){
        $('#box').combobox('unselect',1);
    }
    function setValues(){
        $('#box').combobox('setalues',[1,2]); // 只能选择一个？
    }
    function setValue(){
        $('#box').combobox('setValue',2);
    }
    function reload(){
        $('#box').combobox('reload');
    }
    function getData(){
        var data=$('#box').combobox('getData');
        console.log(data);
    }
    function loadData(){
        var data=[{
            "id":1,
            "text":"Java",
            "productname":"Java",
            "desc":"Write once, run anywhere"
        },{
            "id":2,
            "text":"C#",
            "productname":"C#",
            "desc":"One of the programming languages designed for the Common Language Infrastructure"
        },{
            "id":3,
            "text":"Ruby",
            "productname":"Ruby",
            "selected":true,
            "desc":"A dynamic, reflective, general-purpose object-oriented programming language"
        },{
            "id":4,
            "text":"Perl",
            "productname":"Perl",
            "desc":"A high-level, general-purpose, interpreted, dynamic programming language"
        },{
            "id":5,
            "text":"Basic",
            "productname":"Basic",
            "desc":"A family of general-purpose, high-level programming languages"
        }];
        $('#box').combobox('loadData',data);
    }


</script>
</html>


























